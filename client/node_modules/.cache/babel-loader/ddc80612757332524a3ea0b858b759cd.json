{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dylan\\\\Desktop\\\\SAE\\\\2eme\\\\nodejs\\\\cryptocheck\\\\client\\\\src\\\\components\\\\ListCrypto.js\";\nimport React, { useEffect, useState } from 'react';\nimport { List, Avatar } from 'antd';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { hydrateCurrency } from '../pages/currencySlice'; //const dataAssetsTmp = [];\n//const dataAssetsLogoTmp = [];\n\nconst dataAssets5Tmp = [];\nconst dataAssetsLogo5Tmp = [];\nvar dataAssets5 = [];\n\nconst https = require('https'); //recuperer toutes les logo crypto\n\n\nvar optionsAssetsLogo = {\n  \"method\": \"GET\",\n  \"hostname\": \"rest.coinapi.io\",\n  \"path\": \"/v1/assets/icons/{12px}\",\n  \"headers\": {\n    'X-CoinAPI-Key': 'F9065291-99B7-44B7-9F3C-4C02D0131B28'\n  }\n};\nvar requestAssetsLogo = https.request(optionsAssetsLogo, function (response) {\n  var chunks = [];\n  response.on(\"data\", function (chunk) {\n    chunks.push(chunk);\n  });\n  let urlAssetsLogo = response._fetchResponse.url;\n  fetch(urlAssetsLogo).then(res => res.json()).then(out => {\n    for (var i = 0; i < out.length; i++) {\n      if (out[i].asset_id === 'BTC' || out[i].asset_id === 'ETH' || out[i].asset_id === 'USDT' || out[i].asset_id === 'XRP' || out[i].asset_id === 'BCH') {\n        dataAssetsLogo5Tmp.push(out[i]);\n      } //\tdataAssetsLogoTmp.push(out[i]);\n\n    }\n  }).catch(err => {\n    throw err;\n  });\n});\nrequestAssetsLogo.end();\n\nconst ListCrypto = () => {\n  const dataAssets = useSelector(state => state.currency.currency);\n  /*const [dataAssets, setDataAssets] = useState([]);\r\n  const dispatch=useDispatch();\r\n  useEffect(() => {\r\n  \n  \tdataAssets5Tmp.sort((a, b) => (a.asset_id > b.asset_id) ? 1 : -1);\r\n  \tdataAssetsLogo5Tmp.sort((a, b) => (a.asset_id > b.asset_id) ? 1 : -1);\r\n  \tdataAssets5 = (mergeArrayObjects(dataAssets5Tmp, dataAssetsLogo5Tmp));\r\n  \tdataAssets5.sort((a, b) => (a.name > b.name) ? 1 : -1);\r\n  \tsetDataAssets(dataAssets5);\r\n  \tconsole.log(dataAssets5);\r\n  \tdispatch(hydrateCurrency(dataAssets5));\r\n  }, []);*/\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: dataAssets,\n    renderItem: item => React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(List.Item.Meta, {\n      avatar: React.createElement(Avatar, {\n        src: item.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }),\n      title: React.createElement(\"a\", {\n        href: '/Currency/' + item.asset_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, item.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), \",\");\n};\n\nexport default ListCrypto;","map":{"version":3,"sources":["C:/Users/Dylan/Desktop/SAE/2eme/nodejs/cryptocheck/client/src/components/ListCrypto.js"],"names":["React","useEffect","useState","List","Avatar","useDispatch","useSelector","hydrateCurrency","dataAssets5Tmp","dataAssetsLogo5Tmp","dataAssets5","https","require","optionsAssetsLogo","requestAssetsLogo","request","response","chunks","on","chunk","push","urlAssetsLogo","_fetchResponse","url","fetch","then","res","json","out","i","length","asset_id","catch","err","end","ListCrypto","dataAssets","state","currency","item","name"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {List, Avatar} from 'antd';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {hydrateCurrency} from '../pages/currencySlice'\r\n//const dataAssetsTmp = [];\r\n//const dataAssetsLogoTmp = [];\r\nconst dataAssets5Tmp = [];\r\nconst dataAssetsLogo5Tmp = [];\r\nvar dataAssets5 = [];\r\nconst https = require('https');\r\n\r\n\r\n\r\n\r\n\r\n\r\n//recuperer toutes les logo crypto\r\nvar optionsAssetsLogo = {\r\n\t\"method\": \"GET\",\r\n\t\"hostname\": \"rest.coinapi.io\",\r\n\t\"path\": \"/v1/assets/icons/{12px}\",\r\n\t\"headers\": {'X-CoinAPI-Key': 'F9065291-99B7-44B7-9F3C-4C02D0131B28'}\r\n};\r\n\r\nvar requestAssetsLogo = https.request(optionsAssetsLogo, function (response) {\r\n\tvar chunks = [];\r\n\tresponse.on(\"data\", function (chunk) {\r\n\t\tchunks.push(chunk);\r\n\t});\r\n\r\n\tlet urlAssetsLogo = response._fetchResponse.url;\r\n\r\n\r\n\tfetch(urlAssetsLogo)\r\n\t\t.then(res => res.json())\r\n\t\t.then((out) => {\r\n\r\n\t\t\tfor (var i = 0; i < out.length; i++) {\r\n\t\t\t\tif ((out[i].asset_id === 'BTC') || (out[i].asset_id === 'ETH') || (out[i].asset_id === 'USDT') ||\r\n\t\t\t\t\t(out[i].asset_id === 'XRP') || (out[i].asset_id === 'BCH')) {\r\n\t\t\t\t\tdataAssetsLogo5Tmp.push(out[i]);\r\n\t\t\t\t}\r\n\t\t\t\t//\tdataAssetsLogoTmp.push(out[i]);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tthrow err\r\n\t\t});\r\n});\r\nrequestAssetsLogo.end();\r\n\r\n\r\nconst ListCrypto = () => {\r\n\tconst dataAssets = useSelector(state => state.currency.currency);\r\n\t/*const [dataAssets, setDataAssets] = useState([]);\r\n\tconst dispatch=useDispatch();\r\n\tuseEffect(() => {\r\n\r\n\t\tdataAssets5Tmp.sort((a, b) => (a.asset_id > b.asset_id) ? 1 : -1);\r\n\t\tdataAssetsLogo5Tmp.sort((a, b) => (a.asset_id > b.asset_id) ? 1 : -1);\r\n\t\tdataAssets5 = (mergeArrayObjects(dataAssets5Tmp, dataAssetsLogo5Tmp));\r\n\t\tdataAssets5.sort((a, b) => (a.name > b.name) ? 1 : -1);\r\n\t\tsetDataAssets(dataAssets5);\r\n\t\tconsole.log(dataAssets5);\r\n\t\tdispatch(hydrateCurrency(dataAssets5));\r\n\t}, []);*/\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={dataAssets}\r\n\t\t\t\trenderItem={item => (\r\n\r\n\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\tavatar={<Avatar src={item.url}/>}\r\n\t\t\t\t\t\t\ttitle={<a href={'/Currency/' + item.asset_id}>{item.name}</a>}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t)}\r\n\t\t\t/>,\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default ListCrypto;"]},"metadata":{},"sourceType":"module"}